% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export_genbank.R
\name{export_mutations_to_genbank}
\alias{export_mutations_to_genbank}
\title{Export Mutations to SnapGene-compatible GenBank}
\usage{
export_mutations_to_genbank(
  reference_file,
  mutation_xlsx = NULL,
  output_file = NULL,
  sheets = c("Mutations", "Missing"),
  color_by = c("type", "stage")
)
}
\arguments{
\item{reference_file}{Path to reference file (.dna or .gbk)}

\item{mutation_xlsx}{Path to Excel file (default: auto-detect breseq_analysis/merged_mutation_results.xlsx)}

\item{output_file}{Path for output GenBank file (default: breseq_analysis/\if{html}{\out{<ref>}}_with_mutations.gbk)}

\item{sheets}{Sheet names to process (default: c("Mutations", "Missing"))}

\item{color_by}{How to color features: "type" (mutation type) or "stage" (ALE version)}
}
\value{
Path to the created GenBank file
}
\description{
Standalone function to add breseq mutation features to a GenBank file for
visualization in SnapGene. This is separate from the main pipeline and can
be run independently.
}
\details{
Features:
\itemize{
\item Converts SnapGene .dna files automatically via CLI
\item Adds mutation features with type-based colors (INS, DEL, SNP, REP)
\item Adds Missing Coverage (MC) regions
\item Preserves original GenBank annotations
\item Auto-detects breseq_analysis folder for input/output
}

Color scheme (same as Circos):
\itemize{
\item INS (Insertion): #FF5C8D (Pink)
\item DEL (Deletion): #03045E (Dark Navy)
\item SNP: #139487 (Teal)
\item REP (Replacement): #E5C87B (Golden Yellow)
}
}
\examples{
\dontrun{
# Simplest usage - auto-detect mutation file from breseq_analysis folder
export_mutations_to_genbank(
  reference_file = "reference.gbk"
)

# From SnapGene .dna file (auto-detects mutation xlsx)
export_mutations_to_genbank(
  reference_file = "reference.dna"
)

# Color by ALE stage instead of mutation type
export_mutations_to_genbank(
  reference_file = "reference.gbk",
  color_by = "stage"
)

# Manual paths
export_mutations_to_genbank(
  reference_file = "reference.gbk",
  mutation_xlsx = "custom_path/mutations.xlsx",
  output_file = "output/annotated.gbk"
)
}
}
